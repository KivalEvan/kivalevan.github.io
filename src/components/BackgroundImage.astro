---
import { getImage } from '@astrojs/image';

interface Props {
    src: string;
    mask?: boolean;
}

import image from '../assets/img/bg/background.jpg';

const { mask } = Astro.props;

const { alt, src } = await getImage({ src: image, alt: '', format:'webp'})
---
<div class="background">
    <img src={src} alt="background image" class={mask ? "mask" : ""} loading="lazy" />
</div>

<style lang="scss">
    div {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: max(100vh, 36em);
        z-index: -10;
        overflow: hidden;
    }
    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        &.mask {
            mask-image: linear-gradient(to bottom, rgb(0,0,0,1) 66%, rgb(0,0,0,0));
        }
    }
</style>
